<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Progreso de Donaciones</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    text-align: center;
    padding: 50px;
    background: linear-gradient(135deg, #f5f7fa, #c3cfe2);
    color: #333;
  }

  h1 {
    color: #2c3e50;
    font-size: 2.2em;
    margin-bottom: 20px;
  }

  #barraFondo {
    width: 80%;
    height: 35px;
    background-color: #e0e0e0;
    border-radius: 20px;
    margin: 20px auto;
    overflow: hidden;
    box-shadow: inset 0 2px 5px rgba(0,0,0,0.2);
  }

  #barraProgreso {
    height: 100%;
    width: 0;
    background: linear-gradient(90deg, #4CAF50, #2ecc71);
    text-align: right;
    line-height: 35px;
    color: white;
    border-radius: 20px 0 0 20px;
    transition: width 0.8s ease-in-out;
    padding-right: 10px;
    box-sizing: border-box;
    font-weight: bold;
  }

  #contador {
    font-size: 22px;
    margin-top: 15px;
    color: #444;
  }

  #imagenTier {
    margin-top: 30px;
    height: 220px;
    transition: opacity 1s ease-in-out;
  }

  .tier-labels {
    display: flex;
    justify-content: space-between;
    width: 80%;
    margin: 15px auto 0;
    font-size: 14px;
    color: #555;
  }
</style>
</head>
<body>

<h1>Meta de Donaciones: 2000</h1>

<div id="barraFondo">
  <div id="barraProgreso">0%</div>
</div>

<div class="tier-labels">
  <span>Tier 1 (400)</span>
  <span>Tier 2 (800)</span>
  <span>Tier 3 (1200)</span>
  <span>Tier 4 (1600)</span>
  <span>Tier 5 (2000)</span>
</div>

<div id="contador">0 donaciones</div>

<img id="imagenTier" src="" alt="Progreso del nene" style="opacity:0;">

<script>
const urlJSON = "https://script.googleusercontent.com/macros/echo?user_content_key=AehSKLiEBtL8F-l-wkY10Qeu9iWx8YN4JlQ4JO0-X90iz554XCToc_tYusvLVTuzueS62L4wfqnWNT8YxKJBIzSPo_p_KlpyA8LqEFsk0nMfp6spVboaiSxZyRXE5amWHlsbQkhdeMNagTYk4DQcH48hN_r_6_rLRORlVCBkUA-66Pa58IbGggMCOQAYjb0Fimob8M07NCjpIAJzOrbnnLxphS5xZQuWen4CqtWtwQRXXDpnIUUgIe9MuQbH7k8raEZpy_59xCFulB9e3-oO2gIRNd5RKMZri41MnNjHRiZC&lib=Mm715cfb9D79HJhtTnSc_5llA31TQkXm1"; 
const meta = 2000;
const tierSize = meta / 5;

const imagenes = [
  "ChatGPT Image Aug 23, 2025, 02_25_38 PM.png", // Tier 1
  "ChatGPT Image Aug 23, 2025, 02_25_43 PM.png", // Tier 2
  "ChatGPT Image Aug 23, 2025, 02_25_47 PM.png", // Tier 3
  "ChatGPT Image Aug 23, 2025, 02_25_51 PM.png", // Tier 4
  "ChatGPT Image Aug 23, 2025, 02_26_00 PM.png"  // Tier 5
];

async function cargarDonaciones() {
  try {
    const response = await fetch(urlJSON);
    const data = await response.json();
    const total = data.total;

    // Actualizar número de donaciones
    document.getElementById("contador").innerText = total + " donaciones";

    // Actualizar barra de progreso
    const porcentaje = Math.min((total / meta) * 100, 100);
    const barra = document.getElementById("barraProgreso");
    barra.style.width = porcentaje + "%";
    barra.innerText = Math.round(porcentaje) + "%";

    // Mostrar imagen según el tier
    const tier = Math.min(Math.floor(total / tierSize), 4);
    const imagen = document.getElementById("imagenTier");
    imagen.src = imagenes[tier];
    imagen.style.opacity = 1;

  } catch (error) {
    console.error("Error al cargar donaciones:", error);
  }
}

// Llamada inicial
cargarDonaciones();

// Actualizar cada 5 segundos
setInterval(cargarDonaciones, 5000);
</script>

</body>
</html>


